{{ form_start(form) }}

<div class="row">
    <div class="col-md-2">
        <h2 style="color: blue">Investment Details</h2>
        {{ form_row(form.investmentCompany) }}
        {{ form_row(form.assetClass) }}
        {{ form_row(form.currency) }}
        {{ form_row(form.investmentAmount) }}
        {{ form_row(form.purchaseSharePrice) }}
        {{ form_row(form.numberOfShares) }}
        <div class="initial-amount-GBP">
            {{ form_row(form.initialInvestmentAmountGBP) }}
        </div>
    </div>

    <div class="col-md-1">
    </div>

    <div class="col-md-2 asset_class_dependent_docs">
        {% if investment.assetClass is not null %}
            {% if investment.assetClass.showDocs == 1 %}
                <h2 style="color: blue">Documents</h2>
                {% if investment.shareCert is not empty %}
                    <strong>
                        <a target="_blank"
                           href="{{ path('investment_viewfile',{ id:investment.id, filetype:'shareCert' }) }}"> {{ investment.shareCert }}  </a>
                    </strong><br>

                    {% if investment.shareCert is not empty %}
                        <a class="btn btn-sm btn-danger"
                           href="{{ path('investments_delete_attachment1',{id:investment.id}) }}">Delete
                            attachment</a>
                    {% endif %}
                {% endif %}
                {{ form_row(form.shareCert) }}

                {% if investment.eisCert is not empty %}
                    <strong>
                        <a target="_blank"
                           href="{{ path('investment_viewfile',{ id:investment.id, filetype:'eisCert' }) }}"> {{ investment.eisCert }}  </a>
                    </strong><br>

                    {% if investment.eisCert is not empty %}
                        <a class="btn btn-sm btn-danger"
                           href="{{ path('investments_delete_attachment2',{id:investment.id}) }}">Delete
                            attachment</a>
                    {% endif %}
                {% endif %}
                {{ form_row(form.eisCert) }}

                {% if investment.otherDocs is not empty %}
                    <strong>
                        <a target="_blank"
                           href="{{ path('investment_viewfile',{ id:investment.id, filetype:'otherDocs' }) }}"> {{ investment.otherDocs }}  </a>
                    </strong><br>
                    {% if investment.otherDocs is not empty %}
                        <a class="btn btn-sm btn-danger"
                           href="{{ path('investments_delete_attachment3',{id:investment.id}) }}">Delete
                            attachment</a>
                    {% endif %}
                {% endif %}
                {{ form_row(form.otherDocs) }}
            {% endif %}
        {% endif %}
        <button class="btn btn-success btn-sm mt-2">{{ button_label|default('Save') }}</button>
    </div>

    <div class="col-1"></div>

    <div class="col-md-3">
        {% if investment.assetClass is not null %}
            <h2 style="color: blue" class="d-inline">Asset Class parameters</h2>
            <a target="_blank" href="{{ path('asset_classes_index') }}"><i class="fas fa-link"></i></a>

            <li><b>Docs required: </b>
                {% if investment.assetClass.showDocs ==1 %}
                    <i style="color: green" class="fa fa-check"></i>
                {% else %}
                    <i style="color: red" class="fa fa-remove"></i>
                {% endif %}
            </li>
            <li><b>Purchase/Sale prices available: </b>
                {% if investment.assetClass.showInvestmentPurchaseAndSaleDates ==1 %}
                    <i style="color: green" class="fa fa-check"></i>
                {% else %}
                    <i style="color: red" class="fa fa-remove"></i>
                {% endif %}
            </li>
            <li><b>Updated prices available: </b>
                {% if investment.assetClass.updatedPriceAvailable ==1 %}
                    <i style="color: green" class="fa fa-check"></i>
                {% else %}
                    <i style="color: red" class="fa fa-remove"></i>
                {% endif %}
            </li>
            <hr>
            <h2 style="color: blue" class="d-inline">Tax Scheme</h2>
            <a target="_blank" href="{{ path('tax_schemes_index') }}"><i class="fas fa-link"></i></a>
            <li><b><u>Scheme: </u></b>{{ investment.assetClass.taxScheme.name }}</li>
            <li><b>Purchase: Income offset: </b>{{ investment.assetClass.taxScheme.purchaseIncomeOffset  *100 }}%</li>
            <li><b>Purchase: Tax offset: </b>{{ investment.assetClass.taxScheme.purchaseTaxOffset  *100 }}%</li>
            <li><b>Sale: Income offset: </b>{{ investment.assetClass.taxScheme.saleIncomeOffset  *100 }}%</li>
            <li><b>Sale: Tax offset: </b>{{ investment.assetClass.taxScheme.saleIncomeOffset  *100 }}%</li>
            <li><b>Include in tax summary: </b>
                {% if investment.assetClass.taxScheme.includeTaxSummary ==1 %}
                    <i style="color: green" class="fa fa-check"></i>
                {% else %}
                    <i style="color: red" class="fa fa-remove"></i>
                {% endif %}
            </li>
            <li><b>CGT Rate: </b>{{ investment.assetClass.taxScheme.cgtRate *100 }}%</li>
        {% endif %}
    </div>
</div>
<br>
<hr>


<div class="row">
    <div class="col-md-7">
        {{ form_row(form.comment) }}
    </div>
</div>


<div class="row">
    <div class="col-md-3">
        <h2 style="color: blue">Purchase</h2>

        <div class="row">
            <div class="col-6">
                {{ form_row(form.investmentDate) }}
            </div>

        </div>

        <div class="row asset_class_dependent_tax">
            <div class="col-4">
                {{ form_row(form.EISPurchaseYear1) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eISPurchaseYear1Percentage) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eisPurchaseYear1SelfAssessmentCheck) }}
            </div>
        </div>

        <div class="row asset_class_dependent_tax">
            <div class="col-4">
                {{ form_row(form.EISPurchaseYear2) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eISPurchaseYear2Percentage) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eisPurchaseYear2SelfAssessmentCheck) }}
            </div>
        </div>
    </div>

    <div class="col-md-1">
    </div>


    <div class="col-md-3">
        <h2 style="color: blue">Sale</h2>
        {% if investment.assetClass is not null %}
            Note: Income tax offset:{{ investment.assetClass.taxScheme.saleIncomeOffset *100 }}%
        {% endif %}
        <div class="row">
            <div class="col-6">
                {{ form_row(form.investmentSaleDate) }}
            </div>
            <div class="col-6">
                {{ form_row(form.saleSharePrice) }}
            </div>

        </div>

        <div class="row">
            <div class="col-6">
                {{ form_row(form.crystallisedGainLossInGBP) }}
            </div>
            <div class="col-6">
                {{ form_row(form.lossDeductibleAgainstIncome) }}
            </div>

        </div>

        <div class="row asset_class_dependent_tax">
            <div class="col-4">
                {{ form_row(form.eISSaleYear1) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eISSaleYear1Percentage) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eisSaleYear1SelfAssessmentCheck) }}
            </div>
        </div>
        <div class="row asset_class_dependent_tax">
            <div class="col-4">
                {{ form_row(form.eISSaleYear2) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eISSaleYear2Percentage) }}
            </div>
            <div class="col-4">
                {{ form_row(form.eisSaleYear2SelfAssessmentCheck) }}
            </div>
        </div>
    </div>
</div>


<button class="btn btn-success btn-sm mt-2">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}
